<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>EAG Motto-Lotto | Karneval | Jetzt online Motto ziehen</title>

<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" type="text/css"
    media="screen" />
  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" />

  <script type="text/javascript" src="//code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="src/jquery.slotmachine.js"></script>
</head>

<body>
  <div id="header" class="container">
    <!-- 		<h1 class="content">EAG Motto-Lotto</h1> -->
    <div class="content">
      <div id="textMachineYear">
        <div>2016:</div>
        <div>2017:</div>
        <div>2018:</div>
        <div>2019:</div>
        <div>2020:</div>
        <div>2021:</div>
        <div>2022:</div>
        <div>2023:</div>
        <div>2024:</div>
        <div>2025:</div>
        <div>2026:</div>
        <div>2027:</div>
        <div>2028:</div>
        <div>2029:</div>
        <div>2030:</div>
        <div>2031:</div>
        <div>2032:</div>
        <div>2033:</div>
        <div>2034:</div>
        <div>2035:</div>
        <div>2036:</div>
        <div>2037:</div>
        <div>2038:</div>
        <div>2039:</div>
        <div>2040:</div>
        <div>2041:</div>
        <div>2042:</div>
        <div>2043:</div>
        <div>2044:</div>
        <div>2045:</div>
      </div>
    </div>
    <div class="content">
      <div id="textMachine1">
        <div>Hüüt</div>
        <div>Zont</div>
        <div>Morn</div>
        <div>Diss Joar</div>
        <div>Doe</div>
        <div>Drömm</div>
        <div>Schue</div>
        <div>Ümmer</div>
      </div>
    </div>
    <div class="content">
      <div id="textMachine2">
        <div>bliewe me</div>
        <div>senn me</div>
        <div>wäerd's</div>
        <div>is</div>
        <div>kömmt's</div>
        <div>könne me</div>
        <div>gäet's</div>
        <div>honne mes</div>
        <div>zügt's</div>
        <div>griecht ürs</div>
        <div>lache me</div>
        <div>tüte me</div>
      </div>
    </div>
    <div class="content">
      <div id="textMachine3">
        <div>guat</div>
        <div>lustich</div>
        <div>bointich</div>
        <div>luut</div>
        <div>knöppeldeck</div>
        <div>uffgerühmt</div>
        <div>widder</div>
        <div>net</div>
        <div>nerre</div>
        <div>uffgerät</div>
        <div>roind</div>
        <div>buggelich</div>
      </div>
    </div>
    <div class="content text-center">
      <div style="font-size: 25px" class="slotMachineButton" id="slotMachineButtonShuffle">Lues gäets</div>
      <div style="font-size: 25px" class="slotMachineButton" id="slotMachineButtonStop">Haalt ooh</div>
      <a id="resultLink" href="" target="_blank" style="font-size: 14px; display: none">In neuem Tab öffnen</a>
    </div>
    <script>
    	function getUrlParameter(sParam) {
    		var sPageURL = window.location.search.substring(1);
    		var sURLVariables = sPageURL.split('&');
    		for (var i = 0; i < sURLVariables.length; i++) {
    			var sParameterName = sURLVariables[i].split('=');
    			if (sParameterName[0] == sParam) {
    				return sParameterName[1];
    			}
    		}
    	}
    
    	var p_year = getUrlParameter("year");
    	var active_year = p_year ? p_year : 0;
    	
    	var p_slot1 = getUrlParameter("slot1");
    	var active_slot1 = p_slot1 ? p_slot1 : 1;
    	
    	var p_slot2 = getUrlParameter("slot2");
    	var active_slot2 = p_slot2 ? p_slot2 : 2;
    	
    	var p_slot3 = getUrlParameter("slot3");
    	var active_slot3 = p_slot3 ? p_slot3 : 3;
    	
    	var p_fullstuff = getUrlParameter("fullstuff");
    
  		$(document).ready(function() {
  			if (p_fullstuff) {
  				$("#resultLink").show();
  			}
  			
  			var machineYear = $("#textMachineYear").slotMachine({
  				active: active_year,
  				delay: 500
  			});
  
  			var machine1 = $("#textMachine1").slotMachine({
  				active: active_slot1,
  				delay: 800
  			});
  
  			var machine2 = $("#textMachine2").slotMachine({
  				active: active_slot2,
  				delay: 1100
  			});
  
  			var machine3 = $("#textMachine3").slotMachine({
  				active: active_slot3,
  				delay: 1400
  			});
  
  			$("#slotMachineButtonShuffle").click(function() {
  				machineYear.shuffle();
  				machine1.shuffle();
  				machine2.shuffle();
  				machine3.shuffle();
  			});
  
  			$("#slotMachineButtonStop").click(function() {
  				machineYear.stop();
  				machine1.stop();
  				machine2.stop();
  				machine3.stop();
  				
  				// console.log("year: " + machineYear.active);
  				// console.log("machine1: " + machine1.active);
  				// console.log("machine2: " + machine2.active);
  				// console.log("machine3: " + machine3.active);
  				
  				// console.log(window.location.origin);
  				// console.log(window.location.pathname);
  				
  				var baseUrl = window.location.origin + window.location.pathname;
  				var params = "?fullstuff=1" + "&year=" + machineYear.active + "&slot1=" + machine1.active + "&slot2=" + machine2.active + "&slot3=" + machine3.active;
  				
  				$("#resultLink").attr("href", baseUrl + params);
  			});
  		});
	  </script>
  </div>
</body>
</html>
